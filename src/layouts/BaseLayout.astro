---
import "../styles/global.css";
const { title = "Doctorthe113", description = "Doctor's Blog'" } = Astro.props;
import { DarkModeToggle } from "../components/darkmodeToggle";
import { Button } from "../components/ui/button";
import { Github } from "lucide-react";
---

<html lang="en">
    <head>
        <meta charset="utf-8" />
        <meta name="viewport" content="width=device-width" />
        <meta name="darkreader-lock" />
        <link rel="icon" type="image/svg+xml" href="/favicon.webp" />
        <title>{title + " - doctorthe113.com"}</title>
        <script is:inline>
            const getThemePreference = () => {
                if (
                    typeof localStorage !== "undefined" &&
                    localStorage.getItem("theme")
                ) {
                    return localStorage.getItem("theme");
                }
                return window.matchMedia("(prefers-color-scheme: dark)").matches
                    ? "dark"
                    : "light";
            };
            const isDark = getThemePreference() === "dark";
            document.documentElement.classList[isDark ? "add" : "remove"](
                "dark"
            );

            if (typeof localStorage !== "undefined") {
                const observer = new MutationObserver(() => {
                    const isDark =
                        document.documentElement.classList.contains("dark");
                    localStorage.setItem("theme", isDark ? "dark" : "light");
                });
                observer.observe(document.documentElement, {
                    attributes: true,
                    attributeFilter: ["class"],
                });
            }
        </script>
    </head>
    <body
        class="bg-background font-mono flex flex-col justify-center items-center"
    >
        <div
            class="max-w-2xl w-full flex justify-between px-2 py-2 dark:bg-secondary bg-sidebar rounded-base border-2 border-border shadow-shadow gap-2 sticky top-2 z-100 items-center"
            id="header"
        >
            <a
                class="hover:underline underline-offset-3 mx-1 font-bold cursor-pointer"
                href="/">Home</a
            >
            <a
                class="hover:underline underline-offset-3 mx-1 font-bold cursor-pointer"
                >Blog</a
            >
            <a
                class="hover:underline underline-offset-3 mx-1 font-bold cursor-pointer"
                href="/projects">Projects</a
            >
            <a
                class="hover:underline underline-offset-3 mx-1 font-bold cursor-pointer"
                href="/graphics">Graphics</a
            >
            <div class="flex gap-2 ml-auto text-primary">
                <Button client:idle className="size-8"> <Github /> </Button>
                <DarkModeToggle client:idle />
            </div>
        </div>
        <slot />
    </body>
</html>
